# Домашнее задание к занятию 1. «Типы и структура СУБД»

## Введение

Перед выполнением задания вы можете ознакомиться с
[дополнительными материалами](https://github.com/netology-code/virt-homeworks/tree/virt-11/additional).

## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД
лучше выбрать для хранения определённых данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- электронные чеки в json-виде,
- склады и автомобильные дороги для логистической компании,
- генеалогические деревья,
- кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,
- отношения клиент-покупка для интернет-магазина.

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

Ответ:

- электронные чеки в json-виде - Документоориентированная БД - MongoDB, MarkLogic, CouchDB - такие базы данных предусматривают хранение документов и связей между ними
- склады и автомобильные дороги для логистической компании - Графовая БД - Neo4j, DGraph - такие базы данных предусматривают связи ввиде графов, в данном случае граф - это склад, а ребро - дорога
- генеалогические деревья - Сетевые БД - такие базы данных предусматривают возможность работать с иерархией, например, у дочернего элемента может быть более одного родителя
- кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации - Key-value БД -  Redis, Memcached - Обычный кеш с временным хранением данных
- отношения клиент-покупка для интернет-магазина - Реляционная БД - Postgres, OracleDB - возможность иметь отшения между таблицами

## Задача 2

Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если
(каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):

- данные записываются на все узлы с задержкой до часа (асинхронная запись);
- при сетевых сбоях система может разделиться на 2 раздельных кластера;
- система может не прислать корректный ответ или сбросить соединение.

Согласно PACELC-теореме как бы вы классифицировали эти реализации?

Ответ по CAP-теореме:

    - Данные записываются на все узлы с задержкой до часа (асинхронная запись)
        A или AP, так как данные на всех узлах совпадают только через 1 час, то есть нет согласованности данных

    - При сетевых сбоях, система может разделиться на 2 раздельных кластера
        P или AP, так как система может разделяться на несколько изолированных частей

    - Система может не прислать корректный ответ или сбросить соединение
       СP или С или Р, так как они не обеспечивают доступность ответа

Ответ по PACELC-теореме:

    - Данные записываются на все узлы с задержкой до часа (асинхронная запись)
        PA/EL, так как не обеспечивается согласованность данных или PA/EC, если работает один узел

    - При сетевых сбоях, система может разделиться на 2 раздельных кластера
        PA или PC

    - Система может не прислать корректный ответ или сбросить соединение
        PC/EC

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

Ответ:

Не могут. ACID главное требование согласованность данных, а BASE главное быстрый ответ в ущерб точности ответов.

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни,
- реакция на истечение таймаута.

Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub.
Что это за система? Какие минусы выбора этой системы?

Ответ:
Redis

- Ресурсозатраный (RAM). Хранит все данные в оперативной памяти, и при аварийном завершении процесса или выключении машины данные будут потеряны

- Не имеет функций автоматической отказоустойчивости и восстановления

---

### Как cдавать задание

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

---

